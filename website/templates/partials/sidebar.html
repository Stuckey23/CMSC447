
<!DOCTYPE html>
<body>
    <!-- Sidebar Title -->
    <h1 style="text-align:center"> 
        CHKD Sidebar 
    </h1>

    <!-- Horizontal Line -->
    <hr>

    <!-- Group Section -->
    <!-- Group Header -->
    <div class="container" style="display: flex;">
        <div style="width: 50%;">
            Groups
        </div>
        <div style="flex-grow: 1;">
            <form action="#" method="post">
                <input type="hidden" name="formType" value="sidebar">
                <button type="submit" name="button" value="newGroup">New Group</button>
            </form> 
        </div>

    </div>
    <!-- Group List -->
    <div>
        <!-- Makes a row for each group -->
        {% for group in groups %}
            <div class="container" style="display: flex;">
                <div style="flex-grow: 1;"> 
                    <form action="#" method="post">
                        <input type="hidden" name="formType" value="sidebar">
                        <input type="hidden" name="value" value="{{group.id}}">
                        <button type="submit" name="button" value="groupSelect">{{group.name}}</button>
                    </form> 
                </div>
                <div style="flex-grow: 1;">
                    <!-- Has dot if there's a notification in that group. Replace * with small image -->
                    {% if group.hasNotification %}
                        *
                    {% endif %}
                    
                    <!-- Still needs check icon after this -->
                    {{group.completedTasks}}/{{group.totalTasks}}

                    <!-- Needs member icon after this -->
                    {{group.totalMembers}}
                </div>
            </div>
        {% endfor %}
    </div>

    <!-- Horizontal Line -->
    <hr>

    <!-- Friend Section -->
    <!-- Friend Header -->
    <div class="container" style="display: flex;">
        <div style="width: 50%;">
            Friends
        </div>
        <div style="flex-grow: 1;">
            <form action="#" method="post">
                <input type="hidden" name="formType" value="sidebar">
                <button type="submit" name="button" value="requestFriend">Add Friend</button>
            </form> 
        </div>

    </div>
    <!-- Friend List -->
    <div>
        <!-- Makes a row for each friend -->
        {% for friend in friends %}
            <div class="container" style="display: flex;">
                <div style="flex-grow: 1;"> 
                    {{friend.name}}
                </div>
                <div style="flex-grow: 1;">
                    <!-- Checks friend status to decide which to show -->
                    {% if friend.isFriend %}
                        <!-- Replace buttons with hamburger menu? -->
                        <form action="#" method="post">
                            <input type="hidden" name="formType" value="sidebar">
                            <input type="hidden" name="value" value="{{friend.name}}">
                            <button type="submit" name="button" value="removeFriend">Remove Friend</button>
                        </form> 
                    <!-- If not friend, give user choice to accept/decline friend request -->
                    {% else %}
                    <form action="#" method="post">
                        <input type="hidden" name="formType" value="sidebar">
                        <input type="hidden" name="value" value="{{friend.name}}">
                        <button type="submit" name="button" value="acceptFriend">Accept</button>
                        <button type="submit" name="button" value="declineFriend">Decline</button>
                    </form> 
                    {%endif%}
                </div>
            </div>
        {% endfor %}
    </div>

    <!-- Horizontal Line -->
    <hr>

    <!-- Footer -->
    <div class="container" style="display: flex;">
        <div style="flex-grow: 1;">
            <form action="#" method="post">
                <input type="hidden" name="formType" value="sidebar">
                <button type="submit" name="button" value="log-out">Log out</button>
            </form>
        </div>
        <div>{{user}}</div> 
    </div>
</body>
</html>
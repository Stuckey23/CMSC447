<!DOCTYPE html>
<head>
    <link rel="stylesheet" href='/static/home.css' />
    
    <title>Home</title>
</head>


<body>
    <div class="container" style="display: flex;">
        <div style="width: 35%; background-color:#d9d9d9; border: 10px solid #262626; border-radius: 20px;" class="column left;">
            {% include "partials/sidebar.html" %}
        </div>
        <div style="flex-grow: 1; background-color:#d9d9d9; border: 10px solid #262626; border-radius: 20px;" class="column right;">
            <h1 style="text-align:center">
                Welcome to Quests:
                <div>{{user}}</div>
                <form action="#" method="post">
                    <input type="hidden" name="formType" value="home">
                    <input type="hidden" name="value" value={{currGroup}}>
                    <button type="submit" name="button" value="newQuest">Create New Quest</button>
                </form> 
            </h1>
            
                {%if questExists == 0 :%}
                    <h2 style="text-align:center">No quest have been created in this group yet, create a quest!:</h2>
                    <h3 style="text-align:center">
                    <form action="#" method="post">
                        <input type="submit" name="submit_button" value="Start">
                    </form>    
                    </h3>
                {%endif%}


                {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    <ul class=flashes>
                    {% for category, message in messages %}
                    <li class="{{ category }}">{{ message }}</li>
                    {% endfor %}
                    </ul>
                {% endif %}
                {% endwith %}


                {% for task in tasks %}
                    
                        <div style="text-align:center"> 
                            <h1>{{task.title}}</h1>
                            <h3>{{task.rules}}</h3>
                        </div>
                        <div class="container" style="display: flex;">
                            <div style="flex-grow: 1;">
                                <form action="#" method="post">
                                    <p> {{task.id}}</p>
                                    <input type="hidden" name="formType" value="home">
                                    <input type="hidden" name="task" value="{{task.id}}">
                                    <input type = "hidden" name ="group" value = "{{group}}">
                                    <button type="submit" name="button" value="newSubmission">Create New Submission</button>
                                    <button type="submit" name="button" value="viewSubmission">View Submissions</button>
                                    
                                    
                                </form> 
                            </div>
                        </div>
                            
            {% endfor %}
        </div>
    </div>
    
    
        
</body>
</html>